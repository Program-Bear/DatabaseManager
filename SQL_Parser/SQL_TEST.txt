CREATE DATABASE Db;
USE Db;
CREATE TABLE Book1 (Date DATE NOT NULL, Price FLOAT, Rank INT(25) NOT NULL, Title VARCHAR(25) NOT NULL, PRIMARY KEY (Date, Title));
CREATE TABLE Book2 (COL1 DATE, COL2 FLOAT, COL3 INT(25), COL4 VARCHAR(25), FOREIGN KEY (COL4) REFERENCES Book1(Title));
INSERT INTO Book1 VALUES ('2018/02/28', 3.1415926, 2147483646, 'penis'), ('2017/11/30', 2.0, 2, 'Penis2'), ('2017/10/31', 3.0, 3, 'penis3');
DELETE FROM Book1 WHERE Book2.COL2 <> Book1.Price AND Price > 10.0 AND Price < Book2.COL2 AND Title LIKE 'Penis' AND Title IS NOT NULL;
DELETE FROM Book1 WHERE Book2.COL2 <> Book1.Price AND Price > 10.0 AND Price < Book2.COL2 AND Title LIKE 'Penis' AND Book3.Title2 IS NOT NULL;
UPDATE Book1 SET Title = 'book', Date = '2018/01/01', Price = NULL WHERE Date > Book2.COL1 AND Title IS NOT NULL AND Title LIKE 'penis';
SELECT *, AVG(Book1.Price), Book2.COL1, Title FROM Book1, Book2 WHERE Book2.COL4 IS NULL;
CREATE INDEX Book1 (Title);
DROP INDEX Book1 (Rank);
